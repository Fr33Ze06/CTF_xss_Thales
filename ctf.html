<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GalaxyTalk</title>
    <link rel="stylesheet" href="src/style.css">
    <link rel="icon" href="src/image/Galaxy.png" type="image/png">
</head>

<body>
    <div class="space">
        <img src="src/image/fusee.png" alt="">
    </div>
    
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
    <div id='stars'></div>
    <div id='stars2'></div>
    <div id='stars3'></div>
    
    <h1>GalaxyTalk</h1>
    
    <div class="container_indice">
        <img src="src/image/indice.jpg" style="width: 7.5%;" id="genererIndice">
        <p id="indice"></p>
    </div>

    <div id="popup" class="popup">
        <h2><strong>Forum Intergalactique - Capture The Flag</strong><br></h2>
        <p><strong>Synopsis :</strong> <br>
            Dans un avenir lointain, où les technologies intergalactiques ont permis à des civilisations de toute la galaxie de se connecter et de communiquer via un forum en ligne appelé "GalaxyTalk," un défi a été lancé pour tester la sécurité de ce forum. Le mystérieux administrateur du forum, connu sous le nom de "GalaxyGuardian," prétend avoir sécurisé son compte avec le cookie le plus puissant de la galaxie. Les participants au CTF sont appelés à tenter de capturer ce cookie, qui est le drapeau du défi. <br><br>
        
            <strong>Déroulement du CTF :</strong> <br>
            1. <strong>Objectif :</strong> L'objectif du CTF est de capturer le cookie de l'administrateur "GalaxyGuardian" en exploitant diverses failles de sécurité sur le forum. <br>
            2. <strong>Étapes du Défi :</strong>
               - Les participants devront explorer les fonctionnalités du site pour découvrir des indices sur les vulnérabilités potentielles sur le forum GalaxyTalk. <br>
               - Ils devront rechercher des failles courantes de sécurité web telles que les injections SQL, les failles XSS (Cross-Site Scripting), l'authentification faible, etc. <br>
               - Le cookie de l'administrateur "GalaxyGuardian" sera stocké sur sa session protégé par des mesures de sécurité. <br>
               - Les participants devront utiliser leurs compétences en piratage éthique pour contourner ces mesures et extraire le cookie. <br>
            3. <strong>Apprentissage :</strong> Le CTF est également conçu pour être une expérience d'apprentissage. Des ressources et des tutoriels sont disponibles pour aider les participants à développer leurs compétences en sécurité web. <br>
            4. <strong>Durée :</strong> Le CTF peut durer plusieurs heures pour permettre aux participants d'explorer en profondeur les vulnérabilités potentielles du forum. <br><br>
        
            Ce CTF offre une occasion divertissante et éducative de mettre en pratique les compétences en sécurité web tout en plongeant dans un scénario intergalactique fascinant. Il met en lumière l'importance de la sécurité des données, même dans un univers virtuel lointain.
        </p>
        <button id="closeButton" class="close-button">Fermer</button>
    </div>

    <div class="Syn">
        <button id="Synopsis">Synopsis</button>
    </div>

    <div id="container_form">
        
        <!-- Formulaire pour ajouter un commentaire -->
        <form id="comment-form">
            <label for="name">Nom:</label>
            <input type="text" id="name" name="name" required><br>
            <label for="comment">Commentaire:</label>
            <textarea id="comment" name="comment" rows="4" required></textarea><br>
            <input type="submit" value="Ajouter un commentaire">
        </form>
    </div>
    
    
    
    <!-- Zone pour afficher les commentaires -->
    <div id="comments">
        <!-- Les commentaires seront ajoutés ici -->
    </div>
    

    <script>

        var indices = [
        "Indice 1 : Ce forum contient des failles XSS.",
        "Indice 2 : Exploiter cette faille pour mettre des potentiels scripts.",
        "Indice 3 : Nunc vel rutrum nunc."];

        var indiceCourant = 0;
        var dernierClic = 0;
        var delaiEntreIndices = 2 * 60 * 1000; // 2 minutes en millisecondes

        function genererIndice() {
            var tempsActuel = new Date().getTime();

            if (tempsActuel - dernierClic >= delaiEntreIndices) {
                if (indiceCourant < indices.length) {
                    var nouvelIndice = indices[indiceCourant];
                    document.getElementById("indice").textContent = nouvelIndice;
                    indiceCourant++;
                    dernierClic = tempsActuel;
                } else {
                    document.getElementById("indice").textContent = "Plus d'indices disponibles.";
                    document.getElementById("genererIndice").disabled = true;
                }
            } else {
                var attenteRestante = (delaiEntreIndices - (tempsActuel - dernierClic)) / 1000;
                alert("Attendez encore " + attenteRestante + " secondes avant de générer un nouvel indice.");
            }
        }

        document.getElementById("genererIndice").addEventListener("click", genererIndice);

        var popup = document.getElementById("popup");
        var closeButton = document.getElementById("closeButton");
        var button = document.getElementById("genererIndice");
        var synopsis = document.getElementById("Synopsis");

        // Afficher la pop-up au chargement de la page
        window.addEventListener("load", function() {
            popup.style.display = "block";
            button.style.display = "none";
            synopsis.style.display = "none";
        });

        // Gérer la fermeture de la pop-up lorsque le bouton est cliqué
        closeButton.addEventListener("click", function() {
            popup.style.display = "none";
            button.style.display = "block";
            synopsis.style.display = "block";
        });

        synopsis.addEventListener("click", function() {
            popup.style.display = "block";
        });

        // Fonction pour ajouter un commentaire à la zone d'affichage
        function addComment(name, comment) {
            const commentsDiv = document.getElementById("comments");
            const commentDiv = document.createElement("div");
            commentDiv.innerHTML = `<strong>${name}:</strong> ${comment}`;
            commentsDiv.appendChild(commentDiv);
        }
        
        // Gestionnaire d'événement pour soumettre le formulaire
        document.getElementById("comment-form").addEventListener("submit", function (event) {
            event.preventDefault(); // Empêche le formulaire de se soumettre normalement
            const name = document.getElementById("name").value;
            const comment = document.getElementById("comment").value;
            addComment(name, comment); // Ajoute le commentaire à la zone d'affichage
            document.getElementById("name").value = ""; // Efface le champ Nom
            document.getElementById("comment").value = ""; // Efface le champ Commentaire
        });
    </script>

    <script src="script.js"></script>
    
</body>
</html>

<!-- <img src='#' onerror=alert("ok")> 
    
    <input type="file" id="folderInput" webkitdirectory directory>
    
    Hello</div></div><script>alert("ok")</script>
    
    <iframe src="http://site-du-hacker.com" width=100% height=100%></iframe>
    
-->